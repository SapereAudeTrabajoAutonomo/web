<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bit치cora de Investigaci칩n Filos칩fica con IA</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
            --success-color: #2ecc71;
            --ai-color: #9b59b6;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: var(--primary-color);
            color: white;
            padding: 20px 0;
            text-align: center;
            border-radius: 8px 8px 0 0;
            margin-bottom: 20px;
            position: relative;
        }
        
        .ai-status {
            position: absolute;
            top: 10px;
            right: 20px;
            display: flex;
            align-items: center;
            background-color: rgba(255,255,255,0.2);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.9rem;
        }
        
        .ai-indicator {
            width: 10px;
            height: 10px;
            background-color: var(--success-color);
            border-radius: 50%;
            margin-right: 5px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .progress-container {
            background-color: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .progress-bar {
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin-top: 10px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background-color: var(--secondary-color);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .sections-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }
        
        .section {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .section:hover {
            transform: translateY(-5px);
        }
        
        .section h2 {
            color: var(--primary-color);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--light-color);
        }
        
        .section-content {
            margin-bottom: 15px;
        }
        
        textarea, input[type="text"] {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
            margin-bottom: 10px;
            resize: vertical;
        }
        
        textarea {
            min-height: 100px;
        }
        
        .ai-suggestion {
            background-color: #f8f9fa;
            border-left: 4px solid var(--ai-color);
            padding: 10px 15px;
            margin: 15px 0;
            border-radius: 0 4px 4px 0;
        }
        
        .btn {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s ease;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        .btn:hover {
            background-color: #2980b9;
        }
        
        .btn-accent {
            background-color: var(--accent-color);
        }
        
        .btn-accent:hover {
            background-color: #c0392b;
        }
        
        .btn-success {
            background-color: var(--success-color);
        }
        
        .btn-success:hover {
            background-color: #27ae60;
        }
        
        .btn-ai {
            background-color: var(--ai-color);
        }
        
        .btn-ai:hover {
            background-color: #8e44ad;
        }
        
        .resource-item {
            display: flex;
            margin-bottom: 10px;
        }
        
        .resource-item input {
            flex-grow: 1;
            margin-right: 10px;
        }
        
        .actions {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .close-modal {
            float: right;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .ai-tools {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        
        .ai-tools h3 {
            margin-bottom: 15px;
            color: var(--ai-color);
            display: flex;
            align-items: center;
        }
        
        .ai-tools h3::before {
            content: "游뱄";
            margin-right: 10px;
        }
        
        .ai-prompt {
            display: flex;
            margin-bottom: 15px;
        }
        
        .ai-prompt input {
            flex-grow: 1;
            margin-right: 10px;
        }
        
        .ai-response {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 4px;
            margin-top: 15px;
            border-left: 4px solid var(--ai-color);
            position: relative;
        }
        
        .ai-response::before {
            content: "IA:";
            font-weight: bold;
            color: var(--ai-color);
            margin-right: 5px;
        }
        
        .completion-check {
            display: flex;
            align-items: center;
            margin-top: 10px;
        }
        
        .completion-check input {
            margin-right: 10px;
        }
        
        .export-container {
            text-align: center;
            margin-top: 30px;
            display: none;
        }
        
        .ai-chat {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 300px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 100;
            display: none;
            flex-direction: column;
            max-height: 400px;
        }
        
        .chat-header {
            background-color: var(--ai-color);
            color: white;
            padding: 10px 15px;
            border-radius: 10px 10px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chat-body {
            padding: 15px;
            flex-grow: 1;
            overflow-y: auto;
            max-height: 300px;
        }
        
        .chat-message {
            margin-bottom: 10px;
            padding: 8px 12px;
            border-radius: 18px;
            max-width: 80%;
        }
        
        .user-message {
            background-color: var(--secondary-color);
            color: white;
            margin-left: auto;
            border-bottom-right-radius: 5px;
        }
        
        .ai-message {
            background-color: #f1f1f1;
            border-bottom-left-radius: 5px;
        }
        
        .chat-input {
            display: flex;
            padding: 10px;
            border-top: 1px solid #eee;
        }
        
        .chat-input input {
            flex-grow: 1;
            margin-right: 10px;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 20px;
        }
        
        .toggle-chat {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--ai-color);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            z-index: 99;
        }
        
        @media (min-width: 768px) {
            .sections-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="ai-status">
                <div class="ai-indicator"></div>
                <span>IA Conectada</span>
            </div>
            <h1>Bit치cora de Trabajo Aut칩nomo</h1>
            <p class="subtitle">Investigador Junior en Filosof칤a</p>
        </header>
        
        <div class="progress-container">
            <h3>Progreso de tu investigaci칩n</h3>
            <div class="progress-bar">
                <div class="progress" id="progress-bar"></div>
            </div>
            <p id="progress-text">0% completado</p>
        </div>
        
        <div class="sections-container">
            <!-- Secci칩n 1: Tema seleccionado -->
            <div class="section" id="section-1">
                <h2>1. Tema seleccionado</h2>
                <div class="section-content">
                    <p>Escribe el tema que has seleccionado para tu investigaci칩n:</p>
                    <textarea id="topic" placeholder="Ejemplo: El paso del mito al logos en la antigua Grecia"></textarea>
                </div>
                <div class="ai-tools">
                    <h3>Asistente de IA</h3>
                    <p>Puedes pedirle a la IA que te sugiera posibles temas de inter칠s:</p>
                    <div class="ai-prompt">
                        <input type="text" id="topic-prompt" placeholder="Ejemplo: Dame cinco temas interesantes sobre el surgimiento de la filosof칤a en Grecia">
                        <button class="btn btn-ai" onclick="getAISuggestion('topic')">Obtener sugerencias</button>
                    </div>
                    <div class="ai-response" id="topic-response"></div>
                </div>
                <div class="completion-check">
                    <input type="checkbox" id="topic-complete" onchange="updateProgress()">
                    <label for="topic-complete">He completado esta secci칩n</label>
                </div>
            </div>
            
            <!-- Secci칩n 2: Objetivo de aprendizaje -->
            <div class="section" id="section-2">
                <h2>2. Objetivo de aprendizaje</h2>
                <div class="section-content">
                    <p>Formula tu propio objetivo de investigaci칩n:</p>
                    <textarea id="objective" placeholder="Mi objetivo de aprendizaje es..."></textarea>
                </div>
                <div class="ai-tools">
                    <h3>Asistente de IA</h3>
                    <p>Solicita a la IA que te ayude a redactar objetivos claros y espec칤ficos:</p>
                    <div class="ai-prompt">
                        <input type="text" id="objective-prompt" placeholder="Ejemplo: Ay칰dame a redactar un objetivo de aprendizaje sobre el paso del mito al logos en Grecia">
                        <button class="btn btn-ai" onclick="getAISuggestion('objective')">Obtener ayuda</button>
                    </div>
                    <div class="ai-response" id="objective-response"></div>
                </div>
                <div class="completion-check">
                    <input type="checkbox" id="objective-complete" onchange="updateProgress()">
                    <label for="objective-complete">He completado esta secci칩n</label>
                </div>
            </div>
            
            <!-- Secci칩n 3: B칰squeda de recursos -->
            <div class="section" id="section-3">
                <h2>3. B칰squeda de recursos</h2>
                <div class="section-content">
                    <p>Investiga y selecciona al menos 5 fuentes confiables:</p>
                    <div id="resources-container">
                        <div class="resource-item">
                            <input type="text" id="resource-1" placeholder="Recurso 1">
                        </div>
                        <div class="resource-item">
                            <input type="text" id="resource-2" placeholder="Recurso 2">
                        </div>
                        <div class="resource-item">
                            <input type="text" id="resource-3" placeholder="Recurso 3">
                        </div>
                        <div class="resource-item">
                            <input type="text" id="resource-4" placeholder="Recurso 4">
                        </div>
                        <div class="resource-item">
                            <input type="text" id="resource-5" placeholder="Recurso 5">
                        </div>
                    </div>
                    <button class="btn" onclick="addResource()">A침adir otro recurso</button>
                </div>
                <div class="ai-tools">
                    <h3>Asistente de IA</h3>
                    <p>P칤dele a la IA que te recomiende libros, art칤culos o videos accesibles:</p>
                    <div class="ai-prompt">
                        <input type="text" id="resources-prompt" placeholder="Ejemplo: Recomi칠ndame recursos sencillos para estudiantes de secundaria sobre la filosof칤a presocr치tica">
                        <button class="btn btn-ai" onclick="getAISuggestion('resources')">Obtener recomendaciones</button>
                    </div>
                    <div class="ai-response" id="resources-response"></div>
                </div>
                <div class="completion-check">
                    <input type="checkbox" id="resources-complete" onchange="updateProgress()">
                    <label for="resources-complete">He completado esta secci칩n</label>
                </div>
            </div>
            
            <!-- Secci칩n 4: Explicaci칩n te칩rica -->
            <div class="section" id="section-4">
                <h2>4. Explicaci칩n te칩rica</h2>
                <div class="section-content">
                    <p>Con base en los recursos, redacta una explicaci칩n clara de tu tema:</p>
                    <textarea id="explanation" placeholder="Escribe aqu칤 tu explicaci칩n..."></textarea>
                </div>
                <div class="ai-tools">
                    <h3>Asistente de IA</h3>
                    <p>Usa la IA como ayuda para estructurar tu explicaci칩n:</p>
                    <div class="ai-prompt">
                        <input type="text" id="explanation-prompt" placeholder="Ejemplo: Expl칤came de manera resumida la diferencia entre mito y logos como si yo tuviera 15 a침os">
                        <button class="btn btn-ai" onclick="getAISuggestion('explanation')">Obtener ayuda</button>
                    </div>
                    <div class="ai-response" id="explanation-response"></div>
                </div>
                <div class="completion-check">
                    <input type="checkbox" id="explanation-complete" onchange="updateProgress()">
                    <label for="explanation-complete">He completado esta secci칩n</label>
                </div>
            </div>
            
            <!-- Secci칩n 5: Material did치ctico -->
            <div class="section" id="section-5">
                <h2>5. Material did치ctico</h2>
                <div class="section-content">
                    <p>Dise침a un recurso visual o creativo para ense침ar tu tema:</p>
                    <textarea id="didactic-material" placeholder="Describe tu material did치ctico o idea creativa..."></textarea>
                </div>
                <div class="ai-tools">
                    <h3>Asistente de IA</h3>
                    <p>Puedes usar la IA para generar esquemas, mapas conceptuales, l칤neas de tiempo o presentaciones:</p>
                    <div class="ai-prompt">
                        <input type="text" id="didactic-prompt" placeholder="Ejemplo: Crea un mapa conceptual sobre el contexto cultural, pol칤tico y social del siglo VI a.C.">
                        <button class="btn btn-ai" onclick="getAISuggestion('didactic')">Obtener ideas</button>
                    </div>
                    <div class="ai-response" id="didactic-response"></div>
                </div>
                <div class="completion-check">
                    <input type="checkbox" id="didactic-complete" onchange="updateProgress()">
                    <label for="didactic-complete">He completado esta secci칩n</label>
                </div>
            </div>
            
            <!-- Secci칩n 6: Actividades pr치cticas -->
            <div class="section" id="section-6">
                <h2>6. Actividades pr치cticas</h2>
                <div class="section-content">
                    <p>Crea dos actividades aut칩nomas que sirvan para aplicar lo aprendido:</p>
                    <textarea id="activity-1" placeholder="Actividad 1..."></textarea>
                    <textarea id="activity-2" placeholder="Actividad 2..."></textarea>
                </div>
                <div class="ai-tools">
                    <h3>Asistente de IA</h3>
                    <p>Pide ejemplos de actividades a la IA, pero adapta las propuestas:</p>
                    <div class="ai-prompt">
                        <input type="text" id="activities-prompt" placeholder="Ejemplo: Dame dos actividades pr치cticas para trabajar el tema mito y logos en clase de secundaria">
                        <button class="btn btn-ai" onclick="getAISuggestion('activities')">Obtener ejemplos</button>
                    </div>
                    <div class="ai-response" id="activities-response"></div>
                </div>
                <div class="completion-check">
                    <input type="checkbox" id="activities-complete" onchange="updateProgress()">
                    <label for="activities-complete">He completado esta secci칩n</label>
                </div>
            </div>
            
            <!-- Secci칩n 7: Reto de comprensi칩n -->
            <div class="section" id="section-7">
                <h2>7. Reto de comprensi칩n</h2>
                <div class="section-content">
                    <p>Dise침a un reto final para tu profesor-aprendiz y tus compa침eros:</p>
                    <textarea id="challenge" placeholder="Describe tu reto de comprensi칩n..."></textarea>
                </div>
                <div class="ai-tools">
                    <h3>Asistente de IA</h3>
                    <p>P칤dele a la IA sugerencias de preguntas problematizadoras:</p>
                    <div class="ai-prompt">
                        <input type="text" id="challenge-prompt" placeholder="Ejemplo: Hazme una pregunta con trampa sobre el paso del mito al logos">
                        <button class="btn btn-ai" onclick="getAISuggestion('challenge')">Obtener sugerencias</button>
                    </div>
                    <div class="ai-response" id="challenge-response"></div>
                </div>
                <div class="completion-check">
                    <input type="checkbox" id="challenge-complete" onchange="updateProgress()">
                    <label for="challenge-complete">He completado esta secci칩n</label>
                </div>
            </div>
        </div>
        
        <div class="actions">
            <button class="btn btn-accent" onclick="saveWork()">Guardar trabajo</button>
            <button class="btn btn-success" onclick="exportWork()">Exportar proyecto</button>
        </div>
        
        <div class="export-container" id="export-container">
            <h2>Tu proyecto de investigaci칩n est치 listo</h2>
            <div id="export-content"></div>
            <button class="btn" onclick="printProject()">Imprimir proyecto</button>
        </div>
    </div>
    
    <!-- Chat de IA -->
    <div class="toggle-chat" onclick="toggleChat()">
        <span style="font-size: 24px;">游뱄</span>
    </div>
    
    <div class="ai-chat" id="ai-chat">
        <div class="chat-header">
            <span>Asistente de IA</span>
            <span class="close-modal" onclick="toggleChat()">&times;</span>
        </div>
        <div class="chat-body" id="chat-body">
            <div class="chat-message ai-message">
                춰Hola! Soy tu asistente de IA para filosof칤a. Estoy aqu칤 para ayudarte con tu investigaci칩n sobre filosof칤a antigua. 쮼n qu칠 puedo asistirte?
            </div>
        </div>
        <div class="chat-input">
            <input type="text" id="chat-input" placeholder="Escribe tu pregunta...">
            <button class="btn btn-ai" onclick="sendChatMessage()">Enviar</button>
        </div>
    </div>
    
    <!-- Modal para mostrar sugerencias de IA -->
    <div class="modal" id="ai-modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <h2>Sugerencia de IA</h2>
            <div id="modal-content"></div>
            <button class="btn" onclick="closeModal()">Cerrar</button>
        </div>
    </div>

    <script>
        // Variables para el seguimiento del progreso
        const totalSections = 7;
        let completedSections = 0;
        
        // Base de conocimiento ampliada de la IA para filosof칤a
        const aiKnowledgeBase = {
            // Temas de filosof칤a con descripciones detalladas
            topics: {
                "El paso del mito al logos en la antigua Grecia": {
                    description: "Este tema explora la transici칩n fundamental del pensamiento m칤tico (basado en dioses y fuerzas sobrenaturales) al pensamiento racional (basado en la raz칩n y la observaci칩n) que ocurri칩 en la Grecia del siglo VI a.C.",
                    key_concepts: ["Mito", "Logos", "Raz칩n", "Pensamiento racional", "Filosof칤a presocr치tica"],
                    relevance: "Fundamental para entender el origen de la filosof칤a y la ciencia occidental"
                },
                "Los fil칩sofos presocr치ticos y la b칰squeda del arch칠": {
                    description: "Estudio de los primeros fil칩sofos que buscaron el principio originario (arch칠) de todas las cosas, desplazando las explicaciones mitol칩gicas tradicionales.",
                    key_concepts: ["Arch칠", "Presocr치ticos", "Tales de Mileto", "Anaximandro", "Her치clito", "Parm칠nides"],
                    relevance: "Estos pensadores sentaron las bases del pensamiento racional y cient칤fico"
                },
                "S칩crates y el m칠todo socr치tico": {
                    description: "An치lisis de la figura de S칩crates, su m칠todo de preguntas y respuestas, y su influencia en el desarrollo de la filosof칤a occidental.",
                    key_concepts: ["M칠todo socr치tico", "May칠utica", "Iron칤a socr치tica", "Con칩cete a ti mismo", "칄tica"],
                    relevance: "S칩crates marc칩 un giro antropol칩gico en la filosof칤a, centr치ndose en el ser humano"
                },
                "Plat칩n y la teor칤a de las Ideas": {
                    description: "Exploraci칩n del pensamiento plat칩nico, su teor칤a de las Ideas o Formas, y su influencia en la filosof칤a, la pol칤tica y la educaci칩n.",
                    key_concepts: ["Teor칤a de las Ideas", "Mundo sensible", "Mundo inteligible", "Dial칠ctica", "Allegor칤a de la caverna"],
                    relevance: "Plat칩n estableci칩 las bases del idealismo filos칩fico que influenci칩 toda la filosof칤a occidental"
                },
                "Arist칩teles y la l칩gica": {
                    description: "Estudio del pensamiento aristot칠lico, su sistema l칩gico, su metaf칤sica y su 칠tica, que constituyen pilares del pensamiento occidental.",
                    key_concepts: ["L칩gica", "Silogismo", "Metaf칤sica", "칄tica a Nic칩maco", "Filosof칤a pr치ctica"],
                    relevance: "Arist칩teles desarroll칩 el primer sistema completo de l칩gica y sent칩 las bases del m칠todo cient칤fico"
                },
                "El helenismo: estoicismo, epicure칤smo y escepticismo": {
                    description: "An치lisis de las principales escuelas filos칩ficas del per칤odo helen칤stico y sus propuestas para alcanzar la felicidad y la tranquilidad del alma.",
                    key_concepts: ["Estoicismo", "Epicure칤smo", "Escepticismo", "Ataraxia", "Felicidad"],
                    relevance: "Estas escuelas representan la b칰squeda de la sabidur칤a pr치ctica para la vida cotidiana"
                },
                "Los sofistas y la educaci칩n en la Atenas cl치sica": {
                    description: "Examen del movimiento sof칤stico, su relativismo, su ense침anza de la ret칩rica y su papel en la democracia ateniense.",
                    key_concepts: ["Prot치goras", "Gorgias", "Relativismo", "Ret칩rica", "Humanismo"],
                    relevance: "Los sofistas fueron los primeros educadores profesionales y plantearon cuestiones fundamentales sobre la verdad y la moral"
                },
                "La filosof칤a pol칤tica de Plat칩n y Arist칩teles": {
                    description: "Comparaci칩n de las visiones pol칤ticas de Plat칩n (La Rep칰blica) y Arist칩teles (La Pol칤tica) y su influencia en el pensamiento pol칤tico occidental.",
                    key_concepts: ["Justicia", "Formas de gobierno", "Bien com칰n", "Ciudadano", "Constituci칩n"],
                    relevance: "Estas teor칤as pol칤ticas siguen siendo referencia en el pensamiento pol칤tico contempor치neo"
                },
                "La 칠tica en la filosof칤a antigua": {
                    description: "An치lisis de las diferentes propuestas 칠ticas en la filosof칤a antigua, desde S칩crates hasta los estoicos, y su relevancia para la vida buena.",
                    key_concepts: ["Virtud", "Felicidad", "Justo medio", "Deber", "Libertad"],
                    relevance: "La 칠tica antigua ofrece perspectivas valiosas sobre c칩mo vivir una vida plena y significativa"
                },
                "La metaf칤sica en los pensadores presocr치ticos": {
                    description: "Estudio de las primeras especulaciones metaf칤sicas sobre la naturaleza 칰ltima de la realidad en los fil칩sofos presocr치ticos.",
                    key_concepts: ["Ser", "Devenir", "Uno y m칰ltiple", "Materia", "Esp칤ritu"],
                    relevance: "Estas reflexiones constituyen los fundamentos de la metaf칤sica occidental"
                }
            },
            
            // Objetivos de aprendizaje con estructuras y ejemplos
            objectives: {
                structure: "Un buen objetivo de aprendizaje debe ser SMART: Espec칤fico, Medible, Alcanzable, Relevante y con un Tiempo definido.",
                examples: [
                    "Analizar las diferencias fundamentales entre el pensamiento m칤tico y el pensamiento racional en la antigua Grecia, identificando al menos tres caracter칤sticas distintivas de cada uno.",
                    "Comparar las explicaciones sobre el origen del universo en dos fil칩sofos presocr치ticos diferentes, destacando sus similitudes y diferencias en un ensayo de 1000 palabras.",
                    "Evaluar la relevancia del m칠todo socr치tico para la educaci칩n contempor치nea, dise침ando una actividad pr치ctica que aplique sus principios en el aula.",
                    "Examinar la teor칤a de las Ideas de Plat칩n a trav칠s de la alegor칤a de la caverna, explicando su significado filos칩fico y su aplicaci칩n en tres situaciones actuales.",
                    "Identificar los factores hist칩ricos, pol칤ticos y culturales que propiciaron el surgimiento de la filosof칤a en el siglo VI a.C., elaborando una l칤nea de tiempo con los eventos m치s significativos."
                ],
                verbs: ["Analizar", "Comparar", "Evaluar", "Examinar", "Identificar", "Describir", "Explicar", "Interpretar", "Aplicar", "Dise침ar", "Crear", "Sintetizar"]
            },
            
            // Recursos con descripciones y niveles de dificultad
            resources: {
                "introductorios": [
                    {
                        name: "'El mundo de Sof칤a' de Jostein Gaarder",
                        description: "Novela que introduce de manera accesible la historia de la filosof칤a, ideal para estudiantes de secundaria.",
                        type: "Libro",
                        level: "B치sico"
                    },
                    {
                        name: "'Filosof칤a para principiantes' de Rius (Eduardo del R칤o)",
                        description: "Introducci칩n visual y humor칤stica a la filosof칤a, con 칠nfasis en los fil칩sofos m치s importantes.",
                        type: "C칩mic/Novela gr치fica",
                        level: "B치sico"
                    },
                    {
                        name: "Video: 'Los presocr치ticos' del canal 'Academia Play'",
                        description: "Video animado que explica de manera sencilla las ideas de los primeros fil칩sofos.",
                        type: "Video educativo",
                        level: "B치sico"
                    }
                ],
                "intermedios": [
                    {
                        name: "'Los primeros fil칩sofos de Grecia' de Carlos Garc칤a Gual",
                        description: "Estudio accesible pero riguroso de los fil칩sofos presocr치ticos y su contexto hist칩rico.",
                        type: "Libro",
                        level: "Intermedio"
                    },
                    {
                        name: "'Historia de la Filosof칤a Sin Temor Ni Pavor' de Fernando Savater",
                        description: "Recorrido ameno por la historia de la filosof칤a, con explicaciones claras y ejemplos contempor치neos.",
                        type: "Libro",
                        level: "Intermedio"
                    },
                    {
                        name: "Documental: 'La aventura del pensamiento' de la BBC",
                        description: "Serie documental que explora la historia de la filosof칤a occidental de manera visual y atractiva.",
                        type: "Documental",
                        level: "Intermedio"
                    }
                ],
                "avanzados": [
                    {
                        name: "'Historia de la Filosof칤a' de Frederick Copleston (vol. 1)",
                        description: "Obra de referencia cl치sica y exhaustiva sobre la filosof칤a antigua.",
                        type: "Libro",
                        level: "Avanzado"
                    },
                    {
                        name: "'El nacimiento de la filosof칤a' de Giorgio Colli",
                        description: "Estudio profundo sobre los or칤genes del pensamiento filos칩fico en la antigua Grecia.",
                        type: "Libro",
                        level: "Avanzado"
                    },
                    {
                        name: "Stanford Encyclopedia of Philosophy (plato.stanford.edu)",
                        description: "Enciclopedia filos칩fica en l칤nea con art칤culos rigurosos y actualizados.",
                        type: "Recurso web",
                        level: "Avanzado"
                    }
                ]
            },
            
            // Explicaciones te칩ricas detalladas
            explanations: {
                "mito_logos": {
                    title: "El paso del mito al logos",
                    content: "El paso del mito al logos representa una de las transiciones m치s importantes en la historia del pensamiento occidental. Ocurri칩 en la Grecia antigua alrededor del siglo VI a.C. y marc칩 el surgimiento de la filosof칤a.",
                    comparison: {
                        "Mito": {
                            "Tipo de explicaci칩n": "Sobrenatural, basada en dioses y fuerzas divinas",
                            "Fuente de conocimiento": "Tradici칩n oral, revelaci칩n, autoridad",
                            "M칠todo": "Narraci칩n de historias (mitos)",
                            "Ejemplo": "Los terremotos son causados por Poseid칩n golpeando el suelo con su tridente"
                        },
                        "Logos": {
                            "Tipo de explicaci칩n": "Natural, basada en la raz칩n y la observaci칩n",
                            "Fuente de conocimiento": "Raz칩n, experiencia, argumentaci칩n l칩gica",
                            "M칠todo": "Investigaci칩n sistem치tica, debate racional",
                            "Ejemplo": "Los terremotos son fen칩menos naturales con causas f칤sicas explicables"
                        }
                    },
                    key_thinkers: ["Tales de Mileto", "Anaximandro", "Anax칤menes", "Her치clito", "Parm칠nides"],
                    significance: "Este cambio permiti칩 el desarrollo de la ciencia, la filosof칤a y el pensamiento cr칤tico, sentando las bases de la civilizaci칩n occidental."
                },
                "presocraticos": {
                    title: "Los fil칩sofos presocr치ticos",
                    content: "Los fil칩sofos presocr치ticos fueron los primeros pensadores que intentaron explicar el universo mediante principios naturales en lugar de mitos. Se les llama 'presocr치ticos' porque precedieron o fueron contempor치neos de S칩crates, quien marc칩 un cambio fundamental en la filosof칤a.",
                    main_ideas: [
                        "Tales de Mileto: Consideraba que el agua era el principio (arch칠) de todas las cosas",
                        "Anaximandro: Propuso el '치peiron' (lo ilimitado o indefinido) como principio originario",
                        "Her치clito: Destac칩 el cambio constante en la naturaleza con su famosa frase 'todo fluye' (panta rei)",
                        "Parm칠nides: Afirm칩 la inmutabilidad del ser y la imposibilidad del cambio real"
                    ],
                    contributions: "Estos pensadores sentaron las bases del pensamiento racional y cient칤fico al buscar explicaciones naturales para los fen칩menos del universo."
                },
                "socrates": {
                    title: "S칩crates y el m칠todo socr치tico",
                    content: "S칩crates (470-399 a.C.) marc칩 un punto de inflexi칩n en la filosof칤a al centrarse en el ser humano y la 칠tica, desplazando el inter칠s de la filosof칤a de la naturaleza f칤sica al examen del alma humana.",
                    method: {
                        "Iron칤a": "S칩crates simulaba ignorancia para exponer las contradicciones en el pensamiento de su interlocutor",
                        "May칠utica": "Ayudaba a 'dar a luz' la verdad mediante preguntas que guiaban hacia el conocimiento",
                        "Di치logo": "Utilizaba la conversaci칩n como m칠todo para alcanzar definiciones precisas de conceptos como la justicia, la virtud o la belleza"
                    },
                    key_concepts: ["Con칩cete a ti mismo", "Solo s칠 que no s칠 nada", "La virtud es conocimiento", "Nadie hace el mal voluntariamente"],
                    legacy: "S칩crates no dej칩 escritos, pero su m칠todo y ense침anzas, transmitidas por su disc칤pulo Plat칩n, influyeron profundamente en el desarrollo de la filosof칤a occidental."
                }
            },
            
            // Material did치ctico con ideas creativas
            didactic: {
                "mapas_conceptuales": [
                    "Crea un mapa conceptual que compare las caracter칤sticas del pensamiento m칤tico y el pensamiento racional",
                    "Dise침a un mapa mental sobre los principales fil칩sofos presocr치ticos y sus teor칤as sobre el arch칠",
                    "Elabora un organigrama que muestre la evoluci칩n de las escuelas filos칩ficas en la antigua Grecia"
                ],
                "lineas_tiempo": [
                    "Crea una l칤nea de tiempo interactiva que muestre los principales fil칩sofos presocr치ticos, sus ideas fundamentales y el contexto hist칩rico",
                    "Dise침a una l칤nea cronol칩gica que relacione los desarrollos filos칩ficos con eventos hist칩ricos y culturales de la antigua Grecia"
                ],
                "presentaciones": [
                    "Prepara una presentaci칩n multimedia que compare explicaciones m칤ticas y filos칩ficas sobre fen칩menos naturales",
                    "Crea una presentaci칩n interactiva sobre la alegor칤a de la caverna de Plat칩n, con im치genes y ejemplos contempor치neos"
                ],
                "actividades_interactivas": [
                    "Dise침a un juego de roles donde los estudiantes representen a diferentes fil칩sofos y debatan sobre la naturaleza de la realidad",
                    "Crea un crucigrama filos칩fico con conceptos clave de la filosof칤a antigua"
                ]
            },
            
            // Actividades pr치cticas con instrucciones detalladas
            activities: {
                "analisis_comparativo": {
                    title: "An치lisis comparativo: Mito vs. Logos",
                    description: "Compara un mito griego con una explicaci칩n filos칩fica presocr치tica sobre el mismo fen칩meno natural",
                    instructions: [
                        "Selecciona un mito griego que explique un fen칩meno natural (ej: el rayo como arma de Zeus)",
                        "Investiga la explicaci칩n que dar칤a un fil칩sofo presocr치tico sobre el mismo fen칩meno",
                        "Identifica al menos tres diferencias fundamentales entre ambas explicaciones",
                        "Escribe un breve ensayo (500 palabras) analizando estas diferencias"
                    ],
                    learning_objectives: ["Diferenciar entre explicaciones m칤ticas y racionales", "Comprender el cambio de paradigma del mito al logos"]
                },
                "debate_filosofico": {
                    title: "Debate filos칩fico: Her치clito vs. Parm칠nides",
                    description: "Organiza un debate donde se confronten las posturas de Her치clito (todo cambia) y Parm칠nides (nada cambia)",
                    instructions: [
                        "Divide la clase en dos grupos: uno defender치 la postura de Her치clito y otro la de Parm칠nides",
                        "Cada grupo investigar치 los argumentos principales de su fil칩sofo",
                        "Preparen sus argumentos y contraargumentos para el debate",
                        "Despu칠s del debate, reflexionen sobre las limitaciones y aportes de cada postura"
                    ],
                    learning_objectives: ["Comprender las posturas filos칩ficas sobre el cambio", "Desarrollar habilidades de argumentaci칩n y pensamiento cr칤tico"]
                },
                "dialogo_socratico": {
                    title: "Simulaci칩n de di치logo socr치tico",
                    description: "Representa un di치logo socr치tico sobre un concepto 칠tico como 'la justicia' o 'la virtud'",
                    instructions: [
                        "Un estudiante har치 el papel de S칩crates y otro de su interlocutor",
                        "S칩crates utilizar치 el m칠todo de preguntas para guiar al interlocutor hacia una definici칩n m치s precisa del concepto",
                        "El di치logo debe exponer las contradicciones en el pensamiento inicial del interlocutor",
                        "Al final, el grupo reflexionar치 sobre el proceso y lo que aprendieron"
                    ],
                    learning_objectives: ["Experimentar el m칠todo socr치tico", "Profundizar en la comprensi칩n de conceptos 칠ticos fundamentales"]
                },
                "creacion_mitos_filosoficos": {
                    title: "Creaci칩n de mitos filos칩ficos",
                    description: "Crea tu propio mito que explique un fen칩meno natural, pero usando elementos racionales en lugar de sobrenaturales",
                    instructions: [
                        "Selecciona un fen칩meno natural que quieras explicar (ej: las estaciones, los eclipses, los terremotos)",
                        "Investiga las explicaciones cient칤ficas actuales sobre ese fen칩meno",
                        "Crea un relato m칤tico que incorpore elementos de esas explicaciones cient칤ficas",
                        "Presenta tu mito filos칩fico al grupo y explica c칩mo combina elementos m칤ticos y racionales"
                    ],
                    learning_objectives: ["Comprender la transici칩n del mito al logos", "Desarrollar la creatividad en la aplicaci칩n de conceptos filos칩ficos"]
                }
            },
            
            // Retos de comprensi칩n con diferentes niveles de dificultad
            challenges: {
                "preguntas_trampa": [
                    {
                        question: "쮼s cierto que el paso del mito al logos signific칩 la completa desaparici칩n del pensamiento m칤tico en la antigua Grecia?",
                        answer: "No, el pensamiento m칤tico continu칩 coexistiendo con el pensamiento racional, e incluso algunos fil칩sofos como Plat칩n utilizaron elementos m칤ticos en sus obras.",
                        explanation: "La transici칩n fue gradual y ambos tipos de pensamiento convivieron durante siglos."
                    },
                    {
                        question: "쯃os fil칩sofos presocr치ticos rechazaron completamente la religi칩n griega?",
                        answer: "No necesariamente. Muchos de ellos no rechazaban la religi칩n, sino que buscaban explicaciones naturales complementarias a las explicaciones religiosas.",
                        explanation: "La filosof칤a presocr치tica no era necesariamente atea o antirreligiosa, sino que propon칤a un enfoque diferente para entender el mundo."
                    },
                    {
                        question: "쯉칩crates fue el primer fil칩sofo de la historia?",
                        answer: "No, S칩crates vivi칩 en el siglo V a.C., mientras que los primeros fil칩sofos presocr치ticos surgieron en el siglo VI a.C.",
                        explanation: "Aunque S칩crates es una figura fundamental, la filosof칤a comenz칩 con los pensadores presocr치ticos como Tales de Mileto."
                    }
                ],
                "problemas_filosoficos": [
                    {
                        problem: "Si Her치clito dice que 'todo fluye' y nada permanece, 쯖칩mo es posible el conocimiento estable?",
                        approach: "Esta paradoja fue abordada posteriormente por Plat칩n con su teor칤a de las Ideas, que postulaba un mundo de formas eternas e inmutables.",
                        reflection: "El problema del cambio y la permanencia es uno de los temas centrales de la filosof칤a occidental."
                    },
                    {
                        problem: "Si, como dice Prot치goras, 'el hombre es la medida de todas las cosas', 쯘xiste alguna verdad objetiva?",
                        approach: "Este relativismo sof칤stico fue cuestionado por S칩crates y Plat칩n, quienes buscaban verdades universales mediante la raz칩n.",
                        reflection: "La tensi칩n entre relativismo y objetividad sigue siendo relevante en la filosof칤a contempor치nea."
                    }
                ],
                "aplicaciones_contemporaneas": [
                    {
                        challenge: "Identifica tres situaciones actuales donde observes un 'conflicto' similar al paso del mito al logos.",
                        examples: ["Debates sobre cambio clim치tico (explicaciones cient칤ficas vs. negacionismo)", "Discusiones sobre vacunas (evidencia m칠dica vs. teor칤as conspirativas)", "Interpretaciones hist칩ricas (investigaci칩n acad칠mica vs. revisionismos ideol칩gicos)"],
                        reflection: "El conflicto entre explicaciones basadas en evidencia y aquellas basadas en creencias o tradiciones contin칰a en la sociedad actual."
                    }
                ]
            }
        };
        
        // Funci칩n para actualizar la barra de progreso
        function updateProgress() {
            completedSections = 0;
            for (let i = 1; i <= totalSections; i++) {
                const checkbox = document.getElementById(`section-${i}`).querySelector('input[type="checkbox"]');
                if (checkbox.checked) {
                    completedSections++;
                }
            }
            
            const progressPercentage = (completedSections / totalSections) * 100;
            document.getElementById('progress-bar').style.width = `${progressPercentage}%`;
            document.getElementById('progress-text').textContent = `${Math.round(progressPercentage)}% completado`;
        }
        
        // Funci칩n para a침adir recursos adicionales
        let resourceCount = 5;
        function addResource() {
            resourceCount++;
            const resourcesContainer = document.getElementById('resources-container');
            const newResource = document.createElement('div');
            newResource.className = 'resource-item';
            newResource.innerHTML = `
                <input type="text" id="resource-${resourceCount}" placeholder="Recurso ${resourceCount}">
            `;
            resourcesContainer.appendChild(newResource);
        }
        
        // Funci칩n para obtener sugerencias de IA
        function getAISuggestion(section) {
            const promptInput = document.getElementById(`${section}-prompt`);
            const responseDiv = document.getElementById(`${section}-response`);
            
            if (!promptInput.value.trim()) {
                alert('Por favor, escribe una solicitud para la IA');
                return;
            }
            
            // Simular "pensamiento" de la IA
            responseDiv.innerHTML = '<p>La IA est치 pensando...</p>';
            
            setTimeout(() => {
                let response = "";
                const userPrompt = promptInput.value.toLowerCase();
                
                if (section === 'topic') {
                    response = generateTopicSuggestion(userPrompt);
                } else if (section === 'objective') {
                    response = generateObjectiveSuggestion(userPrompt);
                } else if (section === 'resources') {
                    response = generateResourcesSuggestion(userPrompt);
                } else if (section === 'explanation') {
                    response = generateExplanationSuggestion(userPrompt);
                } else if (section === 'didactic') {
                    response = generateDidacticSuggestion(userPrompt);
                } else if (section === 'activities') {
                    response = generateActivitiesSuggestion(userPrompt);
                } else if (section === 'challenge') {
                    response = generateChallengeSuggestion(userPrompt);
                }
                
                responseDiv.innerHTML = `<p>${response}</p>`;
                
                // Mostrar en modal para mejor visualizaci칩n
                document.getElementById('modal-content').innerHTML = `<p><strong>Tu solicitud:</strong> "${promptInput.value}"</p><p><strong>Respuesta de IA:</strong> ${response}</p>`;
                document.getElementById('ai-modal').style.display = 'flex';
            }, 1500);
        }
        
        // Funciones espec칤ficas para generar sugerencias por secci칩n
        function generateTopicSuggestion(prompt) {
            if (prompt.includes('tema') || prompt.includes('sugerencia') || prompt.includes('interesante')) {
                let response = "Te recomiendo estos temas para tu investigaci칩n en filosof칤a antigua:<br><br>";
                
                // Seleccionar 3 temas aleatorios con sus descripciones
                const topicKeys = Object.keys(aiKnowledgeBase.topics);
                const selectedTopics = getRandomElements(topicKeys, 3);
                
                selectedTopics.forEach(topicKey => {
                    const topic = aiKnowledgeBase.topics[topicKey];
                    response += `<strong>${topicKey}</strong><br>`;
                    response += `<em>${topic.description}</em><br>`;
                    response += `Conceptos clave: ${topic.key_concepts.join(', ')}<br><br>`;
                });
                
                response += "Puedes elegir uno de estos temas o pedirme m치s informaci칩n sobre alguno en particular.";
                return response;
            } else if (prompt.includes('mito') && prompt.includes('logos')) {
                const topic = aiKnowledgeBase.topics["El paso del mito al logos en la antigua Grecia"];
                return `<strong>${"El paso del mito al logos en la antigua Grecia"}</strong><br><br>
                        <em>${topic.description}</em><br><br>
                        <strong>Conceptos clave:</strong> ${topic.key_concepts.join(', ')}<br>
                        <strong>Relevancia:</strong> ${topic.relevance}<br><br>
                        Este es un excelente tema para investigar ya que aborda los or칤genes mismos de la filosof칤a.`;
            } else {
                return "Para ayudarte a seleccionar un tema, considera estos aspectos:<br><br>" +
                       " <strong>Inter칠s personal:</strong> Elige un tema que genuinamente te intrigue<br>" +
                       " <strong>Disponibilidad de recursos:</strong> Aseg칰rate de que haya material accesible para tu investigaci칩n<br>" +
                       " <strong>Enfoque espec칤fico:</strong> En lugar de un tema muy amplio, elige un aspecto concreto<br>" +
                       " <strong>Relevancia:</strong> Considera c칩mo el tema se relaciona con cuestiones actuales<br><br>" +
                       "쯊e gustar칤a que te sugiera algunos temas espec칤ficos sobre filosof칤a antigua?";
            }
        }
        
        function generateObjectiveSuggestion(prompt) {
            if (prompt.includes('objetivo') || prompt.includes('redactar') || prompt.includes('aprendizaje')) {
                let response = "Te ayudo a formular objetivos de aprendizaje efectivos:<br><br>";
                
                response += `<strong>Estructura de un buen objetivo (SMART):</strong><br>`;
                response += ` <strong>E</strong>spec칤fico: Define claramente qu칠 quieres lograr<br>`;
                response += ` <strong>M</strong>edible: Incluye criterios para evaluar el logro<br>`;
                response += ` <strong>A</strong>lcanzable: Debe ser realista para tu nivel<br>`;
                response += ` <strong>R</strong>elevante: Relacionado con tu tema de investigaci칩n<br>`;
                response += ` <strong>T</strong>iempo: Define un plazo para completarlo<br><br>`;
                
                response += `<strong>Verbos 칰tiles para objetivos:</strong> ${aiKnowledgeBase.objectives.verbs.join(', ')}<br><br>`;
                
                response += `<strong>Ejemplos de objetivos bien formulados:</strong><br>`;
                aiKnowledgeBase.objectives.examples.slice(0, 2).forEach(example => {
                    response += ` ${example}<br>`;
                });
                
                return response;
            } else {
                return "Para redactar buenos objetivos de aprendizaje:<br><br>" +
                       "1. Comienza con un verbo de acci칩n que describa lo que podr치s hacer<br>" +
                       "2. Especifica el contenido o concepto que vas a trabajar<br>" +
                       "3. Incluye el contexto o condiciones en que demostrar치s tu aprendizaje<br>" +
                       "4. Define criterios de evaluaci칩n o el producto final<br><br>" +
                       "쯊e gustar칤a que te ayude a redactar un objetivo espec칤fico para tu tema de investigaci칩n?";
            }
        }
        
        function generateResourcesSuggestion(prompt) {
            let response = "Te recomiendo estos recursos para tu investigaci칩n:<br><br>";
            
            // Recursos introductorios
            response += "<strong>Recursos introductorios (nivel b치sico):</strong><br>";
            aiKnowledgeBase.resources.introductorios.forEach(resource => {
                response += ` <strong>${resource.name}</strong> - ${resource.type}<br>`;
                response += `  <em>${resource.description}</em><br>`;
            });
            
            response += "<br><strong>Recursos intermedios:</strong><br>";
            aiKnowledgeBase.resources.intermedios.forEach(resource => {
                response += ` <strong>${resource.name}</strong> - ${resource.type}<br>`;
                response += `  <em>${resource.description}</em><br>`;
            });
            
            response += "<br><strong>Consejos para buscar recursos:</strong><br>";
            response += " Utiliza bibliotecas digitales y repositorios acad칠micos<br>";
            response += " Verifica la credibilidad de las fuentes (autores reconocidos, instituciones acad칠micas)<br>";
            response += " Considera diferentes formatos (libros, art칤culos, videos, podcasts)<br>";
            response += " Adapta el nivel de dificultad a tu conocimiento previo<br>";
            
            return response;
        }
        
        function generateExplanationSuggestion(prompt) {
            if (prompt.includes('mito') && prompt.includes('logos')) {
                const explanation = aiKnowledgeBase.explanations.mito_logos;
                let response = `<strong>${explanation.title}</strong><br><br>`;
                response += `${explanation.content}<br><br>`;
                
                response += `<strong>Comparaci칩n entre Mito y Logos:</strong><br>`;
                response += `<table style="width:100%; border-collapse: collapse;">`;
                response += `<tr><th style="border:1px solid #ddd; padding:8px;">Aspecto</th><th style="border:1px solid #ddd; padding:8px;">Mito</th><th style="border:1px solid #ddd; padding:8px;">Logos</th></tr>`;
                
                for (const aspect in explanation.comparison.Mito) {
                    response += `<tr>`;
                    response += `<td style="border:1px solid #ddd; padding:8px;">${aspect}</td>`;
                    response += `<td style="border:1px solid #ddd; padding:8px;">${explanation.comparison.Mito[aspect]}</td>`;
                    response += `<td style="border:1px solid #ddd; padding:8px;">${explanation.comparison.Logos[aspect]}</td>`;
                    response += `</tr>`;
                }
                
                response += `</table><br>`;
                response += `<strong>Pensadores clave:</strong> ${explanation.key_thinkers.join(', ')}<br>`;
                response += `<strong>Significado hist칩rico:</strong> ${explanation.significance}`;
                
                return response;
            } else if (prompt.includes('presocratic')) {
                const explanation = aiKnowledgeBase.explanations.presocraticos;
                let response = `<strong>${explanation.title}</strong><br><br>`;
                response += `${explanation.content}<br><br>`;
                
                response += `<strong>Ideas principales:</strong><br>`;
                explanation.main_ideas.forEach(idea => {
                    response += ` ${idea}<br>`;
                });
                
                response += `<br><strong>Aportaciones:</strong> ${explanation.contributions}`;
                
                return response;
            } else {
                return "Para estructurar una buena explicaci칩n te칩rica:<br><br>" +
                       "1. <strong>Introducci칩n:</strong> Presenta el tema y su importancia<br>" +
                       "2. <strong>Desarrollo:</strong> Explica los conceptos clave de manera ordenada<br>" +
                       "3. <strong>Ejemplos:</strong> Ilustra con casos concretos<br>" +
                       "4. <strong>Contexto hist칩rico:</strong> Sit칰a el tema en su 칠poca<br>" +
                       "5. <strong>Conclusi칩n:</strong> Resume las ideas principales y su relevancia<br><br>" +
                       "쯊e gustar칤a que te ayude con la explicaci칩n de alg칰n concepto espec칤fico de filosof칤a antigua?";
            }
        }
        
        function generateDidacticSuggestion(prompt) {
            let response = "Ideas para crear material did치ctico sobre filosof칤a antigua:<br><br>";
            
            response += "<strong>Mapas conceptuales:</strong><br>";
            aiKnowledgeBase.didactic.mapas_conceptuales.forEach(idea => {
                response += ` ${idea}<br>`;
            });
            
            response += "<br><strong>L칤neas de tiempo:</strong><br>";
            aiKnowledgeBase.didactic.lineas_tiempo.forEach(idea => {
                response += ` ${idea}<br>`;
            });
            
            response += "<br><strong>Presentaciones:</strong><br>";
            aiKnowledgeBase.didactic.presentaciones.forEach(idea => {
                response += ` ${idea}<br>`;
            });
            
            response += "<br><strong>Actividades interactivas:</strong><br>";
            aiKnowledgeBase.didactic.actividades_interactivas.forEach(idea => {
                response += ` ${idea}<br>`;
            });
            
            response += "<br><strong>Consejos para material did치ctico efectivo:</strong><br>";
            response += " Combina texto con elementos visuales<br>";
            response += " Usa un lenguaje claro y accesible<br>";
            response += " Incluye ejemplos y aplicaciones pr치cticas<br>";
            response += " Dise침a actividades que promuevan la reflexi칩n<br>";
            
            return response;
        }
        
        function generateActivitiesSuggestion(prompt) {
            let response = "Propuestas de actividades pr치cticas para filosof칤a antigua:<br><br>";
            
            for (const key in aiKnowledgeBase.activities) {
                const activity = aiKnowledgeBase.activities[key];
                response += `<strong>${activity.title}</strong><br>`;
                response += `<em>${activity.description}</em><br>`;
                response += `<strong>Instrucciones:</strong><br>`;
                activity.instructions.forEach((instruction, index) => {
                    response += `${index + 1}. ${instruction}<br>`;
                });
                response += `<strong>Objetivos de aprendizaje:</strong> ${activity.learning_objectives.join(', ')}<br><br>`;
            }
            
            return response;
        }
        
        function generateChallengeSuggestion(prompt) {
            let response = "Ideas para retos de comprensi칩n:<br><br>";
            
            response += "<strong>Preguntas con trampa:</strong><br>";
            aiKnowledgeBase.challenges.preguntas_trampa.forEach(challenge => {
                response += `<strong>Pregunta:</strong> ${challenge.question}<br>`;
                response += `<strong>Respuesta:</strong> ${challenge.answer}<br>`;
                response += `<em>${challenge.explanation}</em><br><br>`;
            });
            
            response += "<strong>Problemas filos칩ficos:</strong><br>";
            aiKnowledgeBase.challenges.problemas_filosoficos.forEach(problem => {
                response += `<strong>Problema:</strong> ${problem.problem}<br>`;
                response += `<strong>Enfoque filos칩fico:</strong> ${problem.approach}<br>`;
                response += `<em>${problem.reflection}</em><br><br>`;
            });
            
            response += "<strong>Aplicaciones contempor치neas:</strong><br>";
            aiKnowledgeBase.challenges.aplicaciones_contemporaneas.forEach(application => {
                response += `<strong>Reto:</strong> ${application.challenge}<br>`;
                response += `<strong>Ejemplos:</strong> ${application.examples.join(', ')}<br>`;
                response += `<em>${application.reflection}</em><br>`;
            });
            
            return response;
        }
        
        // Funci칩n auxiliar para obtener elementos aleatorios de un array
        function getRandomElements(array, count) {
            const shuffled = [...array].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, count);
        }
        
        // Funci칩n para cerrar el modal
        function closeModal() {
            document.getElementById('ai-modal').style.display = 'none';
        }
        
        // Funcionalidad del chat de IA
        function toggleChat() {
            const chat = document.getElementById('ai-chat');
            chat.style.display = chat.style.display === 'flex' ? 'none' : 'flex';
        }
        
        function sendChatMessage() {
            const chatInput = document.getElementById('chat-input');
            const chatBody = document.getElementById('chat-body');
            
            if (!chatInput.value.trim()) return;
            
            // Agregar mensaje del usuario
            const userMessage = document.createElement('div');
            userMessage.className = 'chat-message user-message';
            userMessage.textContent = chatInput.value;
            chatBody.appendChild(userMessage);
            
            // Limpiar input
            const userQuestion = chatInput.value;
            chatInput.value = '';
            
            // Simular "pensamiento" de la IA
            const thinkingMessage = document.createElement('div');
            thinkingMessage.className = 'chat-message ai-message';
            thinkingMessage.textContent = 'La IA est치 pensando...';
            chatBody.appendChild(thinkingMessage);
            
            // Hacer scroll hacia abajo
            chatBody.scrollTop = chatBody.scrollHeight;
            
            // Generar respuesta despu칠s de un delay
            setTimeout(() => {
                chatBody.removeChild(thinkingMessage);
                
                const aiResponse = document.createElement('div');
                aiResponse.className = 'chat-message ai-message';
                
                // Generar respuesta contextual basada en la pregunta
                let response = generateAIResponse(userQuestion);
                aiResponse.innerHTML = response;
                
                chatBody.appendChild(aiResponse);
                
                // Hacer scroll hacia abajo
                chatBody.scrollTop = chatBody.scrollHeight;
            }, 2000);
        }
        
        // Funci칩n para generar respuestas contextuales de la IA
        function generateAIResponse(question) {
            question = question.toLowerCase();
            
            // Detectar la intenci칩n de la pregunta
            if (question.includes('hola') || question.includes('buenos d칤as') || question.includes('buenas tardes')) {
                return "춰Hola! Soy tu asistente de IA especializado en filosof칤a antigua. Estoy aqu칤 para ayudarte con tu investigaci칩n. Puedo asistirte con temas, objetivos, recursos, explicaciones, materiales did치cticos, actividades y retos de comprensi칩n. 쮼n qu칠 puedo ayudarte?";
            } else if (question.includes('ayuda') || question.includes('qu칠 puedes hacer')) {
                return "Puedo ayudarte con todos los aspectos de tu investigaci칩n en filosof칤a antigua:<br><br>" +
                       " <strong>Temas:</strong> Sugerir temas interesantes con descripciones detalladas<br>" +
                       " <strong>Objetivos:</strong> Ayudar a redactar objetivos de aprendizaje efectivos<br>" +
                       " <strong>Recursos:</strong> Recomendar libros, art칤culos y videos apropiados para tu nivel<br>" +
                       " <strong>Explicaciones:</strong> Proporcionar explicaciones claras de conceptos filos칩ficos<br>" +
                       " <strong>Material did치ctico:</strong> Sugerir ideas creativas para ense침ar tu tema<br>" +
                       " <strong>Actividades:</strong> Dise침ar actividades pr치cticas para aplicar lo aprendido<br>" +
                       " <strong>Retos:</strong> Crear preguntas problematizadoras y retos de comprensi칩n<br><br>" +
                       "Solo tienes que preguntarme sobre lo que necesites en tu investigaci칩n.";
            } else if (question.includes('tema') && (question.includes('sugerencia') || question.includes('elegir'))) {
                return generateTopicSuggestion(question);
            } else if (question.includes('objetivo') || question.includes('aprendizaje')) {
                return generateObjectiveSuggestion(question);
            } else if (question.includes('recurso') || question.includes('bibliograf칤a') || question.includes('libro')) {
                return generateResourcesSuggestion(question);
            } else if (question.includes('explicaci칩n') || question.includes('concepto') || question.includes('qu칠 es')) {
                return generateExplanationSuggestion(question);
            } else if (question.includes('material did치ctico') || question.includes('ense침ar') || question.includes('presentaci칩n')) {
                return generateDidacticSuggestion(question);
            } else if (question.includes('actividad') || question.includes('ejercicio') || question.includes('pr치ctica')) {
                return generateActivitiesSuggestion(question);
            } else if (question.includes('reto') || question.includes('pregunta') || question.includes('desaf칤o')) {
                return generateChallengeSuggestion(question);
            } else {
                // Respuesta por defecto si no se detecta una intenci칩n espec칤fica
                const defaultResponses = [
                    "Interesante pregunta. En el contexto de la filosof칤a antigua, podr칤as explorar c칩mo los primeros fil칩sofos abordaron cuestiones similares. 쯊e interesa alg칰n per칤odo o fil칩sofo en particular?",
                    "Ese es un tema fascinante. La filosof칤a antigua ofrece muchas perspectivas valiosas. 쯈uieres que te ayude a profundizar en alg칰n aspecto espec칤fico?",
                    "Para responder a eso adecuadamente, necesitar칤amos analizar diferentes enfoques filos칩ficos. 쯊e gustar칤a que exploremos juntos alguna escuela o pensador en particular?",
                    "Buena pregunta. La filosof칤a antigua tiene mucho que aportar sobre ese tema. Podr칤amos examinar las perspectivas de diferentes fil칩sofos o escuelas.",
                    "Ese concepto tiene ra칤ces profundas en la filosof칤a antigua. 쯊e interesa conocer c칩mo lo abordaron los presocr치ticos, S칩crates, Plat칩n o Arist칩teles?"
                ];
                
                return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
            }
        }
        
        // Permitir enviar mensaje con Enter
        document.getElementById('chat-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendChatMessage();
            }
        });
        
        // Funci칩n para guardar el trabajo
        function saveWork() {
            const workData = {
                topic: document.getElementById('topic').value,
                objective: document.getElementById('objective').value,
                resources: [],
                explanation: document.getElementById('explanation').value,
                didacticMaterial: document.getElementById('didactic-material').value,
                activities: {
                    activity1: document.getElementById('activity-1').value,
                    activity2: document.getElementById('activity-2').value
                },
                challenge: document.getElementById('challenge').value
            };
            
            // Recopilar recursos
            for (let i = 1; i <= resourceCount; i++) {
                const resource = document.getElementById(`resource-${i}`).value;
                if (resource.trim()) {
                    workData.resources.push(resource);
                }
            }
            
            localStorage.setItem('philosophyResearch', JSON.stringify(workData));
            alert('Tu trabajo ha sido guardado correctamente.');
        }
        
        // Funci칩n para cargar el trabajo guardado
        function loadWork() {
            const savedWork = localStorage.getItem('philosophyResearch');
            if (savedWork) {
                const workData = JSON.parse(savedWork);
                
                document.getElementById('topic').value = workData.topic || '';
                document.getElementById('objective').value = workData.objective || '';
                document.getElementById('explanation').value = workData.explanation || '';
                document.getElementById('didactic-material').value = workData.didacticMaterial || '';
                document.getElementById('activity-1').value = workData.activities?.activity1 || '';
                document.getElementById('activity-2').value = workData.activities?.activity2 || '';
                document.getElementById('challenge').value = workData.challenge || '';
                
                // Cargar recursos
                if (workData.resources && workData.resources.length > 0) {
                    for (let i = 0; i < workData.resources.length; i++) {
                        if (i < resourceCount) {
                            document.getElementById(`resource-${i+1}`).value = workData.resources[i];
                        } else {
                            addResource();
                            document.getElementById(`resource-${resourceCount}`).value = workData.resources[i];
                        }
                    }
                }
                
                updateProgress();
            }
        }
        
        // Funci칩n para exportar el proyecto
        function exportWork() {
            const topic = document.getElementById('topic').value || 'Sin definir';
            const objective = document.getElementById('objective').value || 'Sin definir';
            const explanation = document.getElementById('explanation').value || 'Sin definir';
            const didacticMaterial = document.getElementById('didactic-material').value || 'Sin definir';
            const activity1 = document.getElementById('activity-1').value || 'Sin definir';
            const activity2 = document.getElementById('activity-2').value || 'Sin definir';
            const challenge = document.getElementById('challenge').value || 'Sin definir';
            
            // Recopilar recursos
            let resourcesHTML = '';
            for (let i = 1; i <= resourceCount; i++) {
                const resource = document.getElementById(`resource-${i}`).value;
                if (resource.trim()) {
                    resourcesHTML += `<li>${resource}</li>`;
                }
            }
            
            const exportContent = `
                <div class="export-project">
                    <h1>Proyecto de Investigaci칩n Filos칩fica</h1>
                    <p><strong>Estudiante:</strong> Investigador Junior</p>
                    <p><strong>Fecha:</strong> ${new Date().toLocaleDateString()}</p>
                    
                    <h2>1. Tema seleccionado</h2>
                    <p>${topic}</p>
                    
                    <h2>2. Objetivo de aprendizaje</h2>
                    <p>${objective}</p>
                    
                    <h2>3. Recursos consultados</h2>
                    <ul>${resourcesHTML || '<li>No se han especificado recursos</li>'}</ul>
                    
                    <h2>4. Explicaci칩n te칩rica</h2>
                    <p>${explanation}</p>
                    
                    <h2>5. Material did치ctico</h2>
                    <p>${didacticMaterial}</p>
                    
                    <h2>6. Actividades pr치cticas</h2>
                    <h3>Actividad 1:</h3>
                    <p>${activity1}</p>
                    <h3>Actividad 2:</h3>
                    <p>${activity2}</p>
                    
                    <h2>7. Reto de comprensi칩n</h2>
                    <p>${challenge}</p>
                </div>
            `;
            
            document.getElementById('export-content').innerHTML = exportContent;
            document.getElementById('export-container').style.display = 'block';
            
            // Desplazar hacia la secci칩n de exportaci칩n
            document.getElementById('export-container').scrollIntoView({ behavior: 'smooth' });
        }
        
        // Funci칩n para imprimir el proyecto
        function printProject() {
            const printContent = document.getElementById('export-content').innerHTML;
            const originalContent = document.body.innerHTML;
            
            document.body.innerHTML = printContent;
            window.print();
            document.body.innerHTML = originalContent;
            location.reload();
        }
        
        // Cargar trabajo guardado al iniciar
        window.onload = function() {
            loadWork();
        };
    </script>
</body>
</html>